
    <!DOCTYPE html>
    <html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vivaldi.sync</title>
    <link rel="stylesheet" href="style.css">
    <link href="IDR_PRODUCT_LOGO.png" rel="icon">
    </head>
    <body>
    <nav class='side'>
    <img src="IDR_PRODUCT_LOGO.png">
    <p>Vivaldi Modders API
    <br />Internal Documentation
    <br /><ul>
    <li><a href="accessKeys.html">accessKeys</a></li><li><a href="autoUpdate.html">autoUpdate</a></li><li><a href="bookmarksPrivate.html">bookmarksPrivate</a></li><li><a href="bookmarkContextMenu.html">bookmarkContextMenu</a></li><li><a href="extensionActionUtils.html">extensionActionUtils</a></li><li><a href="calendar.html">calendar</a></li><li><a href="contacts.html">contacts</a></li><li><a href="contentBlocking.html">contentBlocking</a></li><li><a href="contextMenu.html">contextMenu</a></li><li><a href="devtoolsPrivate.html">devtoolsPrivate</a></li><li><a href="editcommand.html">editcommand</a></li><li><a href="historyPrivate.html">historyPrivate</a></li><li><a href="importData.html">importData</a></li><li><a href="infobars.html">infobars</a></li><li><a href="mailPrivate.html">mailPrivate</a></li><li><a href="menubar.html">menubar</a></li><li><a href="menubarMenu.html">menubarMenu</a></li><li><a href="menuContent.html">menuContent</a></li><li><a href="mousegestures.html">mousegestures</a></li><li><a href="notes.html">notes</a></li><li><a href="pageActions.html">pageActions</a></li><li><a href="pipPrivate.html">pipPrivate</a></li><li><a href="prefs.html">prefs</a></li><li><a href="runtimePrivate.html">runtimePrivate</a></li><li><a href="savedpasswords.html">savedpasswords</a></li><li><a href="settings.html">settings</a></li><li><a href="sync.html">sync</a></li><li><a href="tabsPrivate.html">tabsPrivate</a></li><li><a href="thumbnails.html">thumbnails</a></li><li><a href="vivaldiAccount.html">vivaldiAccount</a></li><li><a href="sessionsPrivate.html">sessionsPrivate</a></li><li><a href="utilities.html">utilities</a></li><li><a href="webViewPrivate.html">webViewPrivate</a></li><li><a href="windowPrivate.html">windowPrivate</a></li><li><a href="zoom.html">zoom</a></li><li><a href="preferenceDefinitions.html">Preference Definitions</a></li>
    <li><a href="everything.html">Search Everything</a></li>
    </ul><footer>Generated from official <a href="https://vivaldi.com/source">Sources</a>
    <p>Version 3.7, by LonMcGregor.
    <p>This website is not affiliated with vivaldi.
    <p><a href="https://github.com/LonMcGregor/VivaldiModdersAPI">Discuss this project on GitHub</a></footer></nav>
    
    <main>
    <a id="backToTop" href="#top">Go back to top</a>
    <h1>vivaldi.sync Modders API Reference</h1>
    <p>Use <code>vivaldi.sync</code> for sync messages.
    <nav class='contents' id='top'>
    <h2>Navigation</h2>
    <h3>Types</h3>
    <ul><li><a href='#SyncNotificationClientStatus'>SyncNotificationClientStatus</a><li><a href='#EngineState'>EngineState</a><li><a href='#DisableReason'>DisableReason</a><li><a href='#CycleStatus'>CycleStatus</a><li><a href='#ProtocolErrorType'>ProtocolErrorType</a><li><a href='#ClientAction'>ClientAction</a><li><a href='#DataType'>DataType</a><li><a href='#DataTypeSelection'>DataTypeSelection</a><li><a href='#EngineData'>EngineData</a><li><a href='#CycleData'>CycleData</a></ul>
    <h3>Listeners</h3>
    <ul><li><a href='#onEngineStateChanged'>onEngineStateChanged</a><li><a href='#onCycleCompleted'>onCycleCompleted</a></ul>
    <h3>Methods</h3>
    <ul><li><a href='#start'>start</a><li><a href='#stop'>stop</a><li><a href='#setEncryptionPassword'>setEncryptionPassword</a><li><a href='#backupEncryptionToken'>backupEncryptionToken</a><li><a href='#restoreEncryptionToken'>restoreEncryptionToken</a><li><a href='#getDefaultSessionName'>getDefaultSessionName</a><li><a href='#setTypes'>setTypes</a><li><a href='#getEngineState'>getEngineState</a><li><a href='#getLastCycleState'>getLastCycleState</a><li><a href='#setupComplete'>setupComplete</a><li><a href='#clearData'>clearData</a><li><a href='#updateNotificationClientStatus'>updateNotificationClientStatus</a><li><a href='#notificationReceived'>notificationReceived</a></ul></nav>
    
        <h2>Types</h2>
        <h3 id='SyncNotificationClientStatus'><a href='#SyncNotificationClientStatus'>#</a>SyncNotificationClientStatus</h3><dl><dt><code>ENUM</code></dt><dd><p>Used to report whether we have a connection to the notification server.<li>connected<li>disconnected</ul></dd></dl>
        <h3 id='EngineState'><a href='#EngineState'>#</a>EngineState</h3><dl><dt><code>ENUM</code></dt><dd><p>The state of the sync engine.<li>stopped: Sync has not been requested by the user<li>starting: Sync has been requested but the engine is not done starting<li>starting_server_error: Sync has been requested but the engine is not done starting and can't do so because of a server issue<li>started: The sync engine is running normally<li>clearing_data: The sync engine is running, but it is in the process of requesting server data to be cleared.<li>configuration_pending: The sync engine is running, but it is waiting for the current setup to be complete before actually syncing anything<li>failed: The sync engine encountered an error that forced it to stop.</ul></dd></dl>
        <h3 id='DisableReason'><a href='#DisableReason'>#</a>DisableReason</h3><dl><dt><code>ENUM</code></dt><dd><p>The reason why the sync engine is in a failed state. This should be kept in sync with SyncService::DisableReason (chromium/components/sync/driver/sync_service.h)<li>platform_override<li>enterprise_policy<li>not_signed_in<li>user_choice<li>unrecoverable_error<li>flag</ul></dd></dl>
        <h3 id='CycleStatus'><a href='#CycleStatus'>#</a>CycleStatus</h3><dl><dt><code>ENUM</code></dt><dd><p>Error occuring as part of the sync cycle. This should be kept in sync with VivaldiSyncUIHelper::CycleStatus (sync/vivaldi_sync_ui_helper.h)<li>not_synced<li>success<li>in_progress<li>auth_error<li>server_error<li>network_error<li>client_error<li>conflict<li>throttled<li>other_error</ul></dd></dl>
        <h3 id='ProtocolErrorType'><a href='#ProtocolErrorType'>#</a>ProtocolErrorType</h3><dl><dt><code>ENUM</code></dt><dd><p>Possible error types for errors returned as part of sync server responses. This should be kept in sync with syncer::SyncProtocolErrorType (chromium/components/sync/protocol/sync_protocol_error.h)<li>success<li>not_my_birthday<li>throttled<li>clear_pending<li>transient_error<li>migration_done<li>disabled_by_admin<li>partial_failure<li>client_data_obsolete<li>encryption_obsolete<li>unknown</ul></dd></dl>
        <h3 id='ClientAction'><a href='#ClientAction'>#</a>ClientAction</h3><dl><dt><code>ENUM</code></dt><dd><p>Possible action that the client can take to fix the last server-returned error. This should be kept in sync with syncer::ClientAction (chromium/components/sync/protocol/sync_protocol_error.h)<li>upgrade_client<li>disable_sync_on_client<li>stop_sync_for_disabled_account<li>reset_local_sync_data<li>unknown</ul></dd></dl>
        <h3 id='DataType'><a href='#DataType'>#</a>DataType</h3><dl><dt><code>ENUM</code></dt><dd><p>User selectable data types that we support<li>bookmarks<li>preferences<li>passwords<li>autofill<li>typed_urls<li>extensions<li>notes</ul></dd></dl>
        <h3 id='DataTypeSelection'><a href='#DataTypeSelection'>#</a>DataTypeSelection</h3><p>A structure containing the system status of a data type.<p>Properties:<dl><dl><dt>dataType</dt><dd><pre><a href="#DataType">DataType</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <dl><dt>enabled</dt><dd><pre>boolean</pre><p>true if we want to sync this data type, otherwise false.</dd></dl>
        </dl>
        <h3 id='EngineData'><a href='#EngineData'>#</a>EngineData</h3><p>Contains information about the state of the sync engine.<p>Properties:<dl><dl><dt>engineState</dt><dd><pre><a href="#EngineState">EngineState</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <dl><dt>disableReasons</dt><dd><p> ⚠ NO DESCRIPTION PROVIDED<p><code>Array</code> of:
        <ul><li>DisableReason</ul></dd></dl>
        <dl><dt>protocolErrorType</dt><dd><pre><a href="#ProtocolErrorType">ProtocolErrorType</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <dl><dt>protocolErrorDescription</dt><dd><pre>string</pre><p>Plain english description of the error as sent by the server</dd></dl>
        <dl><dt>protocolErrorClientAction</dt><dd><pre><a href="#ClientAction">ClientAction</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <dl><dt>usesEncryptionPassword</dt><dd><pre>boolean</pre><p>Whether encryption has been set up</dd></dl>
        <dl><dt>needsDecryptionPassword</dt><dd><pre>boolean</pre><p>Whether a password is needed to decrypt the sync data</dd></dl>
        <dl><dt>isEncryptingEverything</dt><dd><pre>boolean</pre><p>Wheter the engine is encrypting all data types</dd></dl>
        <dl><dt>isSetupInProgress</dt><dd><pre>boolean</pre><p>Whether the sync service is being configured.</dd></dl>
        <dl><dt>isFirstSetupComplete</dt><dd><pre>boolean</pre><p>Whether the sync service has been configured and started before.</dd></dl>
        <dl><dt>syncEverything</dt><dd><pre>boolean</pre><p>Indicates that all datatypes will always be synced.</dd></dl>
        <dl><dt>dataTypes</dt><dd><p>List of available data types and whether the user chose to sync them.<p><code>Array</code> of:
        <ul><li>DataTypeSelection</ul></dd></dl>
        <dl><dt>isReady</dt><dd><pre>boolean</pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        </dl>
        <h3 id='CycleData'><a href='#CycleData'>#</a>CycleData</h3><p>Contains information about the last sync cycle.<p>Properties:<dl><dl><dt>cycleStartTime</dt><dd><pre>number</pre><p>The last time a sync cycle started.</dd></dl>
        <dl><dt>downloadUpdatesStatus</dt><dd><pre><a href="#CycleStatus">CycleStatus</a></pre><p>Whether the download updates part of the last sync cycle was successful</dd></dl>
        <dl><dt>commitStatus</dt><dd><pre><a href="#CycleStatus">CycleStatus</a></pre><p>Whether the commit part of the last sync cycle was successful</dd></dl>
        <dl><dt>nextRetryTime</dt><dd><pre>number</pre><p>The time at which the next sync attempt will be made, if the last one failed</dd></dl>
        <dl><dt>isReady</dt><dd><pre>boolean</pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        </dl>
        
        <h2>Listeners</h2>
            <details>
            <summary>
                <h3 id="listenerHelp">How to use listeners</h2>
            </summary>
            <p>Each listener type has the same functions, used for each listener API in the same way:</p>
            <div class="method">
                <h4>.addListener(<code>function</code> callback)</h4>
                <p>Adds a function to a listener for an event</p>
            </div>
            <div class="method">
                <h4>.removeListener(<code>function</code> callback)</h4>
                <p>Removes a function to a listener for an event</p>
            </div>
            <div class="method">
                <h4>.hasListener(<code>function</code> callback)</h4>
                <p>Returns a boolean if a function is attached to a listener for an event</p>
            </div>
            <div class="method">
                <h4>.hasListeners()</h4>
                <p>Returns a boolean if a listener has any attached functions</p>
            </div>
            <div class="method">
                <h4>.dispatch()</h4>
                <p>Returns array of promises dispatched to the listener</p>
            </div>
        </details>
        <h3 id='onEngineStateChanged'><a href='#onEngineStateChanged'>#</a>onEngineStateChanged</h3><p>Fired when the sync engine state has changed.<p>Parameters:<dl><dt>data</dt><dd><pre><a href="#EngineData">EngineData</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <h3 id='onCycleCompleted'><a href='#onCycleCompleted'>#</a>onCycleCompleted</h3><p>Fired when a sync cycle completed.<p>Parameters:<dl><dt>data</dt><dd><pre><a href="#CycleData">CycleData</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        
        <h2>Methods</h2>
        <h3 id='start'><a href='#start'>#</a>start</h3><p>Starts up sync. Feedback about the startup process can be obtained by listening to onEngineStateChanged.<h3 id='stop'><a href='#stop'>#</a>stop</h3><p>Shuts sync down.<h3 id='setEncryptionPassword'><a href='#setEncryptionPassword'>#</a>setEncryptionPassword</h3><p>Sets the password to use for encryption/decryption of Sync data. If an empty password is supplied, the password supplied when logging in will be used.<p>Parameters:<dl><dt>password</dt><dd>(optional) <pre>string</pre><p>The encryption password to use. If not specified, We will attempt to use the currently stored login password instead.</dd></dl>
        <dl><dt>callback</dt><dd><p> ⚠ NO DESCRIPTION PROVIDED<p>Parameters:<dl><dt>accepted</dt><dd><pre>boolean</pre><p>Whether the password was accepted. This will be false if we have data to decrypt and the password doesn't allow to decrypt them or if we already had a password set.</dd></dl>
        </dd></dl>
            <h3 id='backupEncryptionToken'><a href='#backupEncryptionToken'>#</a>backupEncryptionToken</h3><p>Saves the token derived from the encryption password to a file<p>Parameters:<dl><dt>target_file</dt><dd><pre>string</pre><p>The file to which the token should be saved</dd></dl>
        <dl><dt>callback</dt><dd><p> ⚠ NO DESCRIPTION PROVIDED<p>Parameters:<dl><dt>result</dt><dd><pre>boolean</pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        </dd></dl>
            <h3 id='restoreEncryptionToken'><a href='#restoreEncryptionToken'>#</a>restoreEncryptionToken</h3><p>Uses a previously backed-up token to set up encryption<p>Parameters:<dl><dt>source_file</dt><dd><pre>string</pre><p>The file from which the token should be recovered</dd></dl>
        <dl><dt>callback</dt><dd><p> ⚠ NO DESCRIPTION PROVIDED<p>Parameters:<dl><dt>result</dt><dd><pre>boolean</pre><p>Whether the file was read successfully. Failure may still occur if the retrieved token is incorrect.</dd></dl>
        </dd></dl>
            <h3 id='getDefaultSessionName'><a href='#getDefaultSessionName'>#</a>getDefaultSessionName</h3><p>Returns the device name as determined by the OS.<p>Parameters:<dl><dt>callback</dt><dd><p> ⚠ NO DESCRIPTION PROVIDED<p>Parameters:<dl><dt>result</dt><dd><pre>string</pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        </dd></dl>
            <h3 id='setTypes'><a href='#setTypes'>#</a>setTypes</h3><p>Sets which data types should be synced<p>Parameters:<dl><dt>syncEverything</dt><dd><pre>boolean</pre><p>Sets which datatypes sould be synced.</dd></dl>
        <dl><dt>types</dt><dd><p>List of data types to be enabled<p><code>Array</code> of:
        <ul><li>DataTypeSelection</ul></dd></dl>
        <h3 id='getEngineState'><a href='#getEngineState'>#</a>getEngineState</h3><p>Returns informations about the status of the sync engine.<p>Parameters:<dl><dt>callback</dt><dd><p> ⚠ NO DESCRIPTION PROVIDED<p>Parameters:<dl><dt>data</dt><dd><pre><a href="#EngineData">EngineData</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        </dd></dl>
            <h3 id='getLastCycleState'><a href='#getLastCycleState'>#</a>getLastCycleState</h3><p>Returns informations about the status of the last sync cycle.<p>Parameters:<dl><dt>callback</dt><dd><p> ⚠ NO DESCRIPTION PROVIDED<p>Parameters:<dl><dt>data</dt><dd><pre><a href="#CycleData">CycleData</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        </dd></dl>
            <h3 id='setupComplete'><a href='#setupComplete'>#</a>setupComplete</h3><p>Informs the backend that the user is done configuring sync types<h3 id='clearData'><a href='#clearData'>#</a>clearData</h3><p>Clear all the user's data on the server side and logs them out<h3 id='updateNotificationClientStatus'><a href='#updateNotificationClientStatus'>#</a>updateNotificationClientStatus</h3><p>Tells whether we are successfully connected to the notification server<p>Parameters:<dl><dt>status</dt><dd><pre><a href="#SyncNotificationClientStatus">SyncNotificationClientStatus</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <h3 id='notificationReceived'><a href='#notificationReceived'>#</a>notificationReceived</h3><p>Informs that we have received a notification<p>Parameters:<dl><dt>client_id</dt><dd><pre>string</pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <dl><dt>notification_type</dt><dd><pre>string</pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <dl><dt>version</dt><dd><pre>string</pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        </main></body></html>