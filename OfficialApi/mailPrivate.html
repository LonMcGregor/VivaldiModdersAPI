
    <!DOCTYPE html>
    <html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vivaldi.mailPrivate</title>
    <link rel="stylesheet" href="style.css">
    <link href="IDR_PRODUCT_LOGO.png" rel="icon">
    </head>
    <body>
    <nav class='side'>
    <img src="IDR_PRODUCT_LOGO.png">
    <p>Vivaldi Modders API
    <br />Internal Documentation
    <br /><ul>
    <li><a href="accessKeys.html">accessKeys</a></li><li><a href="autoUpdate.html">autoUpdate</a></li><li><a href="bookmarksPrivate.html">bookmarksPrivate</a></li><li><a href="bookmarkContextMenu.html">bookmarkContextMenu</a></li><li><a href="extensionActionUtils.html">extensionActionUtils</a></li><li><a href="calendar.html">calendar</a></li><li><a href="contacts.html">contacts</a></li><li><a href="contentBlocking.html">contentBlocking</a></li><li><a href="contextMenu.html">contextMenu</a></li><li><a href="devtoolsPrivate.html">devtoolsPrivate</a></li><li><a href="editcommand.html">editcommand</a></li><li><a href="historyPrivate.html">historyPrivate</a></li><li><a href="importData.html">importData</a></li><li><a href="infobars.html">infobars</a></li><li><a href="mailPrivate.html">mailPrivate</a></li><li><a href="menubar.html">menubar</a></li><li><a href="menubarMenu.html">menubarMenu</a></li><li><a href="menuContent.html">menuContent</a></li><li><a href="mousegestures.html">mousegestures</a></li><li><a href="notes.html">notes</a></li><li><a href="pageActions.html">pageActions</a></li><li><a href="pipPrivate.html">pipPrivate</a></li><li><a href="prefs.html">prefs</a></li><li><a href="readingListPrivate.html">readingListPrivate</a></li><li><a href="runtimePrivate.html">runtimePrivate</a></li><li><a href="savedpasswords.html">savedpasswords</a></li><li><a href="searchEngines.html">searchEngines</a></li><li><a href="settings.html">settings</a></li><li><a href="sync.html">sync</a></li><li><a href="tabsPrivate.html">tabsPrivate</a></li><li><a href="themePrivate.html">themePrivate</a></li><li><a href="thumbnails.html">thumbnails</a></li><li><a href="translateHistory.html">translateHistory</a></li><li><a href="vivaldiAccount.html">vivaldiAccount</a></li><li><a href="sessionsPrivate.html">sessionsPrivate</a></li><li><a href="utilities.html">utilities</a></li><li><a href="webViewPrivate.html">webViewPrivate</a></li><li><a href="windowPrivate.html">windowPrivate</a></li><li><a href="zoom.html">zoom</a></li><li><a href="preferenceDefinitions.html">Preference Definitions</a></li>
    <li><a href="everything.html">Search Everything</a></li>
    </ul><footer>Generated from official <a href="https://vivaldi.com/source">Sources</a>
    <p>Version 6.6
    <p>This website is not affiliated with vivaldi.
    <p><a href="https://github.com/LonMcGregor/VivaldiModdersAPI">Discuss this project on GitHub</a></footer></nav>
    
    <main>
    <a id="backToTop" href="#top">Go back to top</a>
    <h1>vivaldi.mailPrivate Modders API Reference</h1>
    <p>Vivaldi mail api. API for reading/writing mails.
    <nav class='contents' id='top'>
    <h2>Navigation</h2>
    <h3>Types</h3>
    <ul><li><a href='#message'>message</a><li><a href='#migration'>migration</a></ul>
    <h3>Listeners</h3>
    <ul><li><a href='#onUpgradeProgress'>onUpgradeProgress</a><li><a href='#onDeleteMessagesProgress'>onDeleteMessagesProgress</a></ul>
    <h3>Methods</h3>
    <ul><li><a href='#getFilePaths'>getFilePaths</a><li><a href='#getFullPath'>getFullPath</a><li><a href='#getMailFilePaths'>getMailFilePaths</a><li><a href='#writeTextToMessageFile'>writeTextToMessageFile</a><li><a href='#writeBufferToMessageFile'>writeBufferToMessageFile</a><li><a href='#deleteMessageFile'>deleteMessageFile</a><li><a href='#renameMessageFile'>renameMessageFile</a><li><a href='#readFileToBuffer'>readFileToBuffer</a><li><a href='#readMessageFileToBuffer'>readMessageFileToBuffer</a><li><a href='#messageFileExists'>messageFileExists</a><li><a href='#readFileToText'>readFileToText</a><li><a href='#getFileDirectory'>getFileDirectory</a><li><a href='#createFileDirectory'>createFileDirectory</a><li><a href='#createMessages'>createMessages</a><li><a href='#deleteMessages'>deleteMessages</a><li><a href='#updateMessage'>updateMessage</a><li><a href='#searchMessages'>searchMessages</a><li><a href='#matchMessage'>matchMessage</a><li><a href='#getDBVersion'>getDBVersion</a><li><a href='#startMigration'>startMigration</a></ul></nav>
    
        <h2>Types</h2>
        <h3 id='message'><a href='#message'>#</a>message</h3><p>Message object. Used to create message in full text database table.<p>Properties:<dl><dl><dt>searchListId</dt><dd><pre>integer</pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <dl><dt>subject</dt><dd><pre>string</pre><p>The message subject.</dd></dl>
        <dl><dt>body</dt><dd><pre>string</pre><p>The message body.</dd></dl>
        <dl><dt>to</dt><dd><pre>string</pre><p>The message to address .</dd></dl>
        <dl><dt>cc</dt><dd><pre>string</pre><p>The message cc address .</dd></dl>
        <dl><dt>from</dt><dd><pre>string</pre><p>The message from address .</dd></dl>
        <dl><dt>replyTo</dt><dd><pre>string</pre><p>The message reply address .</dd></dl>
        </dl>
        <h3 id='migration'><a href='#migration'>#</a>migration</h3><p>Migration object. Returns search db version and if migration of search db is needed.<p>Properties:<dl><dl><dt>dbVersion</dt><dd><pre>integer</pre><p>The mail search db version.</dd></dl>
        <dl><dt>migrationNeeded</dt><dd><pre>boolean</pre><p>If database migration is needed.</dd></dl>
        </dl>
        
        <h2>Listeners</h2>
            <details>
            <summary>
                <h3 id="listenerHelp">How to use listeners</h2>
            </summary>
            <p>Each listener type has the same functions, used for each listener API in the same way:</p>
            <div class="method">
                <h4>.addListener(<code>function</code> callback)</h4>
                <p>Adds a function to a listener for an event</p>
            </div>
            <div class="method">
                <h4>.removeListener(<code>function</code> callback)</h4>
                <p>Removes a function to a listener for an event</p>
            </div>
            <div class="method">
                <h4>.hasListener(<code>function</code> callback)</h4>
                <p>Returns a boolean if a function is attached to a listener for an event</p>
            </div>
            <div class="method">
                <h4>.hasListeners()</h4>
                <p>Returns a boolean if a listener has any attached functions</p>
            </div>
            <div class="method">
                <h4>.dispatch()</h4>
                <p>Returns array of promises dispatched to the listener</p>
            </div>
        </details>
        <h3 id='onUpgradeProgress'><a href='#onUpgradeProgress'>#</a>onUpgradeProgress</h3><p>Reports import progress.<p>Parameters:<dl><dt>progress</dt><dd><pre>integer</pre><p>Number of rows upgraded.</dd></dl>
        <dl><dt>total</dt><dd><pre>integer</pre><p>Total number of rows to be upgraded.</dd></dl>
        <dl><dt>msg</dt><dd><pre>string</pre><p>Message to be printed out.</dd></dl>
        <h3 id='onDeleteMessagesProgress'><a href='#onDeleteMessagesProgress'>#</a>onDeleteMessagesProgress</h3><p>Reports progress when deleting messages.<p>Parameters:<dl><dt>delete_progress_count</dt><dd><pre>integer</pre><p>Number of messages deleted.</dd></dl>
        
        <h2>Methods</h2>
        <h3 id='getFilePaths'><a href='#getFilePaths'>#</a>getFilePaths</h3><p>Returns array of file paths under a given directory.<p>Parameters:<dl><dt>path</dt><dd><pre>string</pre><p>The root folder from where to build up the file paths.</dd></dl>
        <h3 id='getFullPath'><a href='#getFullPath'>#</a>getFullPath</h3><p>Given a file entry, return full path of the file<p>Parameters:<dl><dt>filesystem</dt><dd><pre>string</pre><p>The file entry to be looked up</dd></dl>
        <dl><dt>path</dt><dd><pre>string</pre><p>The path</dd></dl>
        <h3 id='getMailFilePaths'><a href='#getMailFilePaths'>#</a>getMailFilePaths</h3><p>Returns array of file paths under the  default profile /Mail directory.<h3 id='writeTextToMessageFile'><a href='#writeTextToMessageFile'>#</a>writeTextToMessageFile</h3><p>Saves a mail to disk. The root folder location is the profile directory of the current running instance /Mail<p>Parameters:<dl><dt>paths</dt><dd><p>String array that is used to create a folder structure, starting at user default profile /Mail The function returns error if empty<p><code>Array</code> of:
        <ul><li>string</ul></dd></dl>
        <dl><dt>fileName</dt><dd><pre>string</pre><p>The file name to be created/saved/overridden.</dd></dl>
        <dl><dt>raw</dt><dd><pre>string</pre><p>The raw mail content.</dd></dl>
        <dl><dt>append</dt><dd>(optional) <pre>boolean</pre><p>Whether to append to file instead of write.</dd></dl>
        <h3 id='writeBufferToMessageFile'><a href='#writeBufferToMessageFile'>#</a>writeBufferToMessageFile</h3><p>Saves a mail to disk. The root folder location is the profile directory of the current running instance /Mail<p>Parameters:<dl><dt>paths</dt><dd><p>String array that is used to create a folder structure, starting at user default profile /Mail The function returns error if empty<p><code>Array</code> of:
        <ul><li>string</ul></dd></dl>
        <dl><dt>fileName</dt><dd><pre>string</pre><p>The file name to be created/saved/overridden.</dd></dl>
        <dl><dt>raw</dt><dd><pre>binary</pre><p>The raw mail content as arrayBuffer</dd></dl>
        <dl><dt>append</dt><dd>(optional) <pre>boolean</pre><p>Whether to append to file instead of write.</dd></dl>
        <h3 id='deleteMessageFile'><a href='#deleteMessageFile'>#</a>deleteMessageFile</h3><p>Deletes a file. The root folder location is the profile directory of the current running instance /Mail<p>Parameters:<dl><dt>paths</dt><dd><p>String array that is used to build path to the file. Starting at user default profile/Mail.<p><code>Array</code> of:
        <ul><li>string</ul></dd></dl>
        <dl><dt>fileName</dt><dd><pre>string</pre><p>The file name to be deleted. With ending.</dd></dl>
        <h3 id='renameMessageFile'><a href='#renameMessageFile'>#</a>renameMessageFile</h3><p>Renames a file. The root folder location is the profile directory of the current running instance /Mail<p>Parameters:<dl><dt>paths</dt><dd><p>String array that is used to build path to the file. Starting at user default profile/Mail.<p><code>Array</code> of:
        <ul><li>string</ul></dd></dl>
        <dl><dt>fileName</dt><dd><pre>string</pre><p>The file name to be renamed.</dd></dl>
        <dl><dt>newFileName</dt><dd><pre>string</pre><p>The new name for the file.</dd></dl>
        <h3 id='readFileToBuffer'><a href='#readFileToBuffer'>#</a>readFileToBuffer</h3><p>Reads the contents of a file. Returns the content as arrayBuffer<p>Parameters:<dl><dt>fileName</dt><dd><pre>string</pre><p>Absoloute path to the file to be read.</dd></dl>
        <h3 id='readMessageFileToBuffer'><a href='#readMessageFileToBuffer'>#</a>readMessageFileToBuffer</h3><p>Reads a mail. The root folder location is the profile directory of the current running instance /Mail<p>Parameters:<dl><dt>paths</dt><dd><p>String array that is used to build path to the file. Starting at user default profile/Mail.<p><code>Array</code> of:
        <ul><li>string</ul></dd></dl>
        <dl><dt>fileName</dt><dd><pre>string</pre><p>The file name to be read.</dd></dl>
        <h3 id='messageFileExists'><a href='#messageFileExists'>#</a>messageFileExists</h3><p>Check if file exists.Returns true if the file exists.<p>Parameters:<dl><dt>paths</dt><dd><p>String array that is used to build path to the file. Starting at user default profile/Mail.<p><code>Array</code> of:
        <ul><li>string</ul></dd></dl>
        <dl><dt>fileName</dt><dd><pre>string</pre><p>The file name to be checked.</dd></dl>
        <h3 id='readFileToText'><a href='#readFileToText'>#</a>readFileToText</h3><p>Reads a file. Returns the file content as text.<p>Parameters:<dl><dt>path</dt><dd><pre>string</pre><p>Absoulout path to the file to be read.</dd></dl>
        <h3 id='getFileDirectory'><a href='#getFileDirectory'>#</a>getFileDirectory</h3><p>Returns the user mail data directory and verfies that the directory exists.<p>Parameters:<dl><dt>hashedAccountId</dt><dd><pre>string</pre><p>First 6 characters from the MD5 hash of the accountId. Appended to the end of the default mail data directory</dd></dl>
        <h3 id='createFileDirectory'><a href='#createFileDirectory'>#</a>createFileDirectory</h3><p>Creates the user mail data directory.<p>Parameters:<dl><dt>hashedAccountId</dt><dd><pre>string</pre><p>First 6 characters from the MD5 hash of the accountId. Appended to the end of the default mail data directory</dd></dl>
        <h3 id='createMessages'><a href='#createMessages'>#</a>createMessages</h3><p>Creates messages for full text search.<p>Parameters:<dl><dt>messages</dt><dd><p> ⚠ NO DESCRIPTION PROVIDED<p><code>Array</code> of:
        <ul><li>message</ul></dd></dl>
        <h3 id='deleteMessages'><a href='#deleteMessages'>#</a>deleteMessages</h3><p>Deletes messages from full text search.<p>Parameters:<dl><dt>messages</dt><dd><p> ⚠ NO DESCRIPTION PROVIDED<p><code>Array</code> of:
        <ul><li>integer</ul></dd></dl>
        <h3 id='updateMessage'><a href='#updateMessage'>#</a>updateMessage</h3><p>Updates a message. All properties needs to be specified both new and previous ones.<p>Parameters:<dl><dt>message</dt><dd><pre><a href="#message">message</a></pre><p> ⚠ NO DESCRIPTION PROVIDED</dd></dl>
        <h3 id='searchMessages'><a href='#searchMessages'>#</a>searchMessages</h3><p>Searches messages with certain query.<p>Parameters:<dl><dt>searchValue</dt><dd><pre>string</pre><p>The value to search for</dd></dl>
        <h3 id='matchMessage'><a href='#matchMessage'>#</a>matchMessage</h3><p>Does search value match certain message.<p>Parameters:<dl><dt>searchListId</dt><dd><pre>integer</pre><p>The searchListId of the message to be checked.</dd></dl>
        <dl><dt>searchValue</dt><dd><pre>string</pre><p>The value to search for</dd></dl>
        <h3 id='getDBVersion'><a href='#getDBVersion'>#</a>getDBVersion</h3><p>Returns SQLite database version for MailDB.<h3 id='startMigration'><a href='#startMigration'>#</a>startMigration</h3><p>Migrates the full text database index to contentless. Track progress in the listener: onUpgradeProgress. This can be slow.</main></body></html>